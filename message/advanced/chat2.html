<html>
<head>
<!-- Custom CSS -->
<link href="css/apz-app-combined.css" rel="stylesheet">
<link href="css/app/mck-sidebox-2.0.css" rel="stylesheet">

<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/style2.css">
<!-- Custom JS -->
<script type="text/javascript">
	var $original;
	if (typeof jQuery !== 'undefined') {
		$original = jQuery.noConflict(true);
		$ = $original;
		jQuery = $original;
	}
</script>
<script src="js/jquery-2.2.2.min.js"></script>
</head>
<body>

	<div class="wrapper">
		<div class="container">
			<div class="left mck-message-inner-left">
				<div class="panel-content">
					<div class="top">
						<input type="text" id="mck-search" data-provide="typeahead"
							placeholder="Search..." autofocus /> <a href="#"
							class="mck-tab-search search"></a>
					</div>
					<div class="mck-panel-body">
						<div id="mck-contact-cell" class="mck-panel-cell">
							<div class="mck-panel-inner mck-contacts-inner">
								<ul id="mck-contact-list" class="people mck-contact-list">
							</div>
							<div id="mck-contact-loading" class="mck-loading">
								<span class="mck-icon-loading"></span>
							</div>
							<div id="mck-show-more-icon" class="mck-show-more-icon n-vis">
								<h3>No more conversations!</h3>
							</div>
						</div>
					</div>
					<!--
                  <li id="li-user-nitin" class="person nitin" data-chat="person1" data-msg-time="1468413476857">
                      <img src="http://s13.postimg.org/ih41k9tqr/img1.jpg" alt="" />
                      <span class="name">Nitin</span>
                      <span class="time">2:09 PM</span>
                      <span class="preview">I was wondering...</span>
                  </li>
                -->
					</ul>
				</div>
			</div>
			<div class="right">
				<div class="panel-content">
					<div class="mck-box-top">
						<div id="mck-tab-individual"
							class="mck-tab-individual mck-row vis">
							<div class="blk-lg-8 mck-box-title">
								<div id="mck-tab-title" class="mck-tab-title mck-truncate name">

								</div>
								<div id="mck-tab-status"
									class="mck-tab-status mck-truncate n-vis"></div>
								<div class="mck-typing-box mck-truncate n-vis">
									<span class="name-text"></span><span>typing...</span>
								</div>
							</div>
							<div class="blk-lg-4 move-right">
								<div id="mck-tab-menu" class="mck-menu-item">
									<div class="mck-dropdown-toggle" data-toggle="mckdropdown"
										aria-expanded="true">
										<img src="css/app/images/icon-menu.png" class="mck-menu-icon"
											alt="Tab Menu">
									</div>
									<ul id="mck-tab-menu-list"
										class="mck-dropdown-menu mck-tab-menu-box menu-right"
										role="menu">
										<li class="mck-tab-message-option vis"><a href="#"
											id="mck-delete-button"
											class="mck-delete-button menu-item vis"
											title="Clear Messages"> Clear Messages </a></li>
										<li id="li-mck-block-user" class="vis"><a href="#"
											id="mck-block-button" class="menu-item" title="Block User">Block
												User</a></li>
										<li id="li-mck-group-info"
											class="mck-group-menu-options n-vis"><a href="#"
											id="mck-group-info-btn" class="menu-item" title="Group Info">
												Group Info </a></li>
										<li id="li-mck-leave-group"
											class="mck-group-menu-options n-vis"><a href="#"
											id="mck-leave-group-btn" class="menu-item" title="Exit Group">
												Exit Group </a></li>
									</ul>
								</div>

							</div>
						</div>

					</div>
					<div class="mck-panel-body">
						<div id="mck-message-cell" class="mck-message-cell mck-panel-cell">
							<div id="conversation-section" style="height: 100%;">
								<div class="chat mck-message-inner mck-panel-inner"
									data-mck-id="${contIdExpr}"></div>
								<div id="mck-msg-loading" class="mck-loading n-vis">
									<span class="mck-icon-loading"></span>
								</div>
								<div id="mck-no-more-messages"
									class="mck-no-more-messages mck-show-more-icon n-vis">
									<h3>No more messages!</h3>
								</div>
							</div>
						</div>
					</div>

					<div class="write">
						<!-- Create message send form -->

						<!-- 						<div id="mck-file-menu" class="mck-file-menu">
							<div class="mck-row">
								<div class="blk-lg-6 mck-left mck-pt10">
									<a id="mck-file-up" class="mck-btn-text-panel mck-file-upload"
										href="#">
										<div class="mck-menu-icon">
											<span class="mck-icon-photo"></span>
										</div>
										<p class="mck-truncate" title="File &amp; Photos">Files
											&amp; Photos</p>
									</a>
								</div>
								<div class="blk-lg-6 mck-pt10">
									<a id="mck-btn-loc" href="#" class="mck-btn-loc">
										<div class="mck-menu-icon">
											<span class="mck-icon-marker-blue"></span>
										</div>
										<p class="mck-truncate" title="Location">Location</p>
									</a>
								</div>
							</div>
						</div> -->
						<div id="mck-sidebox-ft" class="mck-box-ft mck-panel-ft">
							<div class="mck-box-form mck-row">
								<div class="blk-lg-12">
									<p id="mck-msg-error" class="mck-sidebox-error n-vis"></p>
								</div>
								<div class="blk-lg-12">
									<p id="mck-msg-response" class="mck-box-response n-vis"></p>
								</div>
								<div id="mck-write-box" class="blk-lg-12 mck-write-box">
									<form id="mck-msg-form" class="vertical mck-msg-form">
										<div class="mck-form-group n-vis">
											<label class="sr-only placeholder-text control-label"
												for="mck-msg-to">To:</label> <input class="mck-form-cntrl"
												id="mck-msg-to" name="mck-msg-to" placeholder="To" required>
										</div>
										<input id="mck-file-input" class="mck-file-input n-vis"
											type="file" name="files[]">
										<div id="mck-btn-attach" class="mck-btn-attach">
											<div class="mck-dropdown-toggle" data-toggle="mckdropdown"
												aria-expanded="true">
												<a href="#" type="button" id="mck-btn-attach"
													class="write-link attach mck-btn-text-panel"
													aria-expanded="true" title="Attach File"> </a>
											</div>
											<ul id="mck-upload-menu-list"
												class="mck-dropup-menu mck-upload-menu-list" role="menu">
												<li><a id="mck-file-up" href="#"
													class="mck-file-upload menu-item" title="File &amp; Photos">

														<img src="css/app/images/mck-icon-photo.png"
														class="menu-icon" alt="File &amp; Photos"> <span>Files
															&amp; Photos</span>
												</a></li>
												<li><a id="mck-btn-loc" href="#" class="menu-item"
													title="Location"> <img
														src="css/app/images/mck-icon-marker.png" class="menu-icon"
														alt="Location"> <span>Location</span>
												</a></li>

											</ul>
										</div>
										<a href="#" id="mck-file-up2" type="button"
											class="write-link attach n-vis mck-file-upload mck-btn-text-panel"
											title="Attach File"> </a> <span id="mck-text-box"
											contenteditable="true" class="mck-text-box mck-text required"></span>

										<a href="#" type="button" id="mck-btn-smiley"
											class="write-link smiley mck-btn-smiley mck-btn-text-panel"
											title="Smiley"></a> <a href="#" type="submit"
											id="mck-msg-sbmt" class="write-link send mck-btn-text-panel"
											title="Send Message"></a>
									</form>
								</div>
								<div class="blk-lg-12">
									<div id="mck-file-box" class="n-vis"></div>
								</div>
							</div>
						</div>

						<!--
                  <a href="javascript:;" class="write-link attach"></a>
                  <input id="mck-text-box" type="text" />
                  <a href="javascript:;" id = "mck-btn-smiley" class="write-link smiley"></a>
                  <a href="javascript:;" class="write-link send"></a>
                -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="mck-loc-box" class="mck-box mck-loc-box fade"
		aria-hidden="false">
		<div class="mck-box-dialog mck-box-md">
			<div class="mck-box-content">
				<div class="mck-box-top mck-row">
					<div class="blk-lg-10">
						<h4 class="mck-box-title">Location Sharing</h4>
					</div>
					<div class="blk-lg-2">
						<button type="button" class="mck-box-close" data-dismiss="mckbox"
							aria-label="Close">
							<span aria-hidden="true">×</span>
						</button>
					</div>
				</div>
				<div class="mck-box-body">
					<div class="mck-form-group">
						<div class="blk-lg-12">
							<input id="mck-loc-address" type="text" class="mck-form-control"
								placeholder="Enter a location" autocomplete="off">
						</div>
					</div>
					<div id="mck-map-content" class="mck-loc-content"></div>
					<div class="n-vis">
						<label class="blk-sm-2 mck-control-label">Lat.:</label>
						<div class="blk-sm-3">
							<input type="text" id="mck-loc-lat" class="mck-form-control">
						</div>
						<label class="blk-sm-2 mck-control-label">Long.:</label>
						<div class="blk-sm-3">
							<input type="text" id="mck-loc-lon" class="mck-form-control">
						</div>
					</div>
				</div>
				<div class="mck-box-footer">
					<button id="mck-my-loc" type="button"
						class="mck-my-loc mck-btn mck-btn-green">My Location</button>
					<button id="mck-loc-submit" type="button"
						class="mck-btn mck-btn-blue mck-loc-submit move-right">Send</button>
					<button type="button" class="mck-btn mck-btn-default move-right"
						data-dismiss="mckbox">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Dummy div as js is dependent on mck-sidebox -->
	<div id="mck-sidebox"></div>


	<script type="text/javascript" src="js/mck-ui-plugins.min.js"></script>
	<script type="text/javascript" src="js/mck-ui-widget.min.js"></script>
	<script type="text/javascript" src="js/mck-emojis.min.js"></script>
	<script type="text/javascript" src="js/mck-socket.min.js"></script>
	<script type="text/javascript"
		src="https://maps.google.com/maps/api/js?key=AIzaSyDKfWHzu9X7Z2hByeW4RRFJrD9SizOzZt4&libraries=places"></script>
	<script type="text/javascript" src="js/locationpicker.jquery.min.js"></script>
	<script type="text/javascript" src="js/app/chat.js"></script>
	<script type="text/javascript">
		var oModal = "";
		if (typeof $original !== 'undefined') {
			$ = $original;
			jQuery = $original;
			if (typeof $.fn.modal === 'function') {
				oModal = $.fn.modal.noConflict();
			}
		} else {
			$ = $applozic;
			jQuery = $applozic;
			if (typeof $applozic.fn.modal === 'function') {
				oModal = $applozic.fn.modal.noConflict();
			}
		}
	</script>
	<script type="text/javascript">
		//var $applozic = jQuery.noConflict(true);
		//Sample json contains display name and photoLink for userId
		var contacts = {
			"user1" : {
				"displayName" : "Devashish",
				"imageLink" : "https://www.applozic.com/resources/images/applozic_icon.png"
			},
			"user2" : {
				"displayName" : "Adarsh",
				"imageLink" : "https://www.applozic.com/resources/images/applozic_icon.png"
			},
			"user3" : {
				"displayName" : "Shanki",
				"imageLink" : "https://www.applozic.com/resources/images/applozic_icon.png"
			}
		};
		function readMessage() {
			//console.log(userId);
		}
		//Callback Function to return display name by userId
		/*  function displayName(userId) {
		      //Todo: replace this with users display name
		      var contact = contacts[userId];   // contacts sample given above
		      if (typeof contact !== 'undefined') {
		          return contact.displayName;
		      }
		  }*/
		//Callback Function to return contact image url by userId
		/*  function contactImageSrc(userId) {
		      var contact = contacts[userId]; // contacts sample given above
		      if (typeof contact !== 'undefined') {
		          return contact.imageLink;
		      }
		  }*/
		//callback function execute after plugin initialize.
		function onInitialize(status) {
			if (status === 'success') {
				//write your logic exectute after plugin initialize.
				$applozic.fn.applozic('loadTab', '');
			}
		}
		$(document)
				.ready(
						function() {
							//Function to initialize plugin
							$applozic.fn
									.applozic({
										baseUrl : 'http://localhost:9090/applozic',
										userId : 'shanki.connect',
										appId : 'applozic-sample-app',
										ojq : $original,
										obsm : oModal,
										notificationIconLink : "https://www.applozic.com/resources/images/applozic_icon.png",
										readConversation : readMessage, // readMessage function defined above
										onInit : onInitialize, //callback function execute on plugin initialize
										maxAttachmentSize : 25, //max attachment size in MB
										desktopNotification : true,
										locShare : true,
										googleApiKey : "AIzaSyDKfWHzu9X7Z2hByeW4RRFJrD9SizOzZt4"
									});

							// var contactjson = {"contacts": [{"userId": "user1", "displayName": "Devashish", "imageLink": "https://www.applozic.com/resources/images/applozic_icon.png"}, {"userId": "user2", "displayName": "Adarsh", "imageLink": "https://www.applozic.com/resources/images/applozic_icon.png"}, {"userId": "user3", "displayName": "Shanki", "imageLink": "https://www.applozic.com/resources/images/applozic_icon.png"}]};
							// To load contact list use below function and pass contacts json in format shown above in variable 'contactjson'.
							// $applozic.fn.applozic('loadContacts', contactjson);
						});
	</script>

	<script src="js/index.js"></script>

</body>
</html>
